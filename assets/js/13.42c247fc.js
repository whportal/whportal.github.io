(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{494:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[a("code",[s._v("Git commit")]),s._v(" 规范和 "),a("code",[s._v("Git")]),s._v(" 常用命令")])]),s._v(" "),a("h2",{attrs:{id:"commit-message规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commit-message规范"}},[s._v("#")]),s._v(" Commit message规范")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Commit message包括三个部分：Header、Body和Footer\n\n格式：\n\t<type>(<scope>): <subject>\n\t// 空一行\n\t<body>\n\t// 空一行\n\t<footer>\n\ntype[必选]:commit的类别，只允许使用下面7个标识\n\tfeat：\t\t新功能（feature）\n\tfix：\t\t修补bug\n\tdocs：\t\t文档（documentation）\n\tstyle： \t\t格式（不影响代码运行的变动）\n\trefactor：\t重构（即不是新增功能，也不是修改bug的代码变动）\n\ttest：\t\t增加测试\n\tchore：\t\t构建过程或辅助工具的变动\nscope[可选]:Commit影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同\nsubject[必选]：Commit目的的简短描述，不超过50个字符\n\t以动词开头，使用第一人称现在时，比如change，而不是changed或changes\n\t第一个字母小写\n\t结尾不加句号\nbody[可选]:对本次Commit详细描述，可以分成多行\n\t例：\n\t\t\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h2",{attrs:{id:"统计代码行数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#统计代码行数"}},[s._v("#")]),s._v(" 统计代码行数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('git log --author="wangwenhao" --pretty=tformat: --numstat | awk \'{ add += $1; subs += $2; loc += $1 - $2 } END { printf "added lines: %s, removed lines: %s, total lines: %s\\n", add, subs, loc }\' -\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"代码回滚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码回滚"}},[s._v("#")]),s._v(" 代码回滚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git reset --hard commit_id\ngit push -f\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"代码取消合并"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码取消合并"}},[s._v("#")]),s._v(" 代码取消合并")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git merge --abort\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"合并本地多次commit为一个commit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合并本地多次commit为一个commit"}},[s._v("#")]),s._v(" 合并本地多次"),a("code",[s._v("commit")]),s._v("为一个"),a("code",[s._v("commit")])]),s._v(" "),a("h3",{attrs:{id:"_1-查看提交日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看提交日志"}},[s._v("#")]),s._v(" 1.查看提交日志")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-确定要合并的commit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-确定要合并的commit"}},[s._v("#")]),s._v(" 2.确定要合并的commit")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#方式1 使用HEAD版本从开始往过去数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i HEAD~3\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#合并最新三次commit")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#方式2 指明要合并的版本之前的版本号")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i 版本号\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注意：此处指定的版本号不参与合并，相当于一个坐标")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_3-选取要合并的提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-选取要合并的提交"}},[s._v("#")]),s._v(" 3.选取要合并的提交")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#执行rebase命令后，会弹出一个窗口，如下：")]),s._v("\n\npick 3ca6ec3   "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'注释**********'")]),s._v("\n\npick 1b40566   "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'注释*********'")]),s._v("\n\npick 53f244a   "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'注释**********'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用vim编辑器命令 `i` 进入插入模式")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将要合并的版本号之前的 pcik 更改为 squash或者s")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用命令`:wq` 保存并退出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果有冲突需要修改，要保留最新的记录，修改完之后输入一下命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" add.\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase --continue\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果想放弃本次压缩")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase --abort\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("blockquote",[a("p",[s._v("第一列是rebase具体执行的操作，其中操作可以选择，其中含义如下：")]),s._v(" "),a("p",[s._v("选择pick操作，git会应用这个补丁，以同样的提交信息（commit message）保存提交")]),s._v(" "),a("p",[s._v("选择reword操作，git会应用这个补丁，但需要重新编辑提交信息")]),s._v(" "),a("p",[s._v("选择edit操作，git会应用这个补丁，但会因为amending而终止")]),s._v(" "),a("p",[s._v("选择squash操作，git会应用这个补丁，但会与之前的提交合并")]),s._v(" "),a("p",[s._v("选择fixup操作，git会应用这个补丁，但会丢掉提交日志")]),s._v(" "),a("p",[s._v("选择exec操作，git会在shell中运行这个命令")])]),s._v(" "),a("h3",{attrs:{id:"_4-修改注释信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-修改注释信息"}},[s._v("#")]),s._v(" 4.修改注释信息")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果没有冲突或者冲突已经解决，则会出现如下vim编辑窗口，不需要的注释使用#注释掉，修改完使用:wq保存并退出，再次使用git log查看，此时已经合并成功,也可以不修改注释直接保存")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# This is a combination of 4 commits.  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#The first commit’s message is:  ")]),s._v("\n注释"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The 2nd commit’s message is:  ")]),s._v("\n注释"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The 3rd commit’s message is:  ")]),s._v("\n注释"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Please enter the commit message for your changes. Lines starting # with ‘#’ will be ignored, and an empty message aborts the commit.")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("blockquote",[a("p",[s._v("若需要将远程仓库的多次commit合并，则在以上操作之后执行以下命令，使用本地仓库代码强制覆盖远程仓库，谨慎使用，可能会覆盖远程其他人提交的代码，")]),s._v(" "),a("p",[s._v("git push -f")])])])}),[],!1,null,null,null);t.default=e.exports}}]);